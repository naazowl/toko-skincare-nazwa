(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["31188"],{324510:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],r=[{kind:"Variable",name:"pin",variableName:"pinId"}],u={alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},d={alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null},c={alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"CloseupPageDesktopQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[u,{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[d],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupPageDesktop_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CloseupPageDesktopQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[u,{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[d,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},c,g={alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:o,storageKey:'additionalImagesPerSpec(spec:"474x")'},p={alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:o,storageKey:'additionalImagesPerSpec(spec:"564x")'},m={alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:o,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:o,storageKey:null}],storageKey:null},c,g,p,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[y],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:o,storageKey:null},_],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},_],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"ProductMetadata",kind:"LinkedField",name:"productMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},_],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[s,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},_],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"45a1589f2937eb1227ad9792a58125459fd5a635ec0d77795a84b5d5677421c2",metadata:{},name:"CloseupPageDesktopQuery",operationKind:"query",text:null}});n.hash="3e5e91c4b622e8c344672c0f5a2b65a8";let i=n;var t,r,s,u,d,o,c,g,p,m,y,_,k=n.default||n;if("query"===k.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(k);else{let e=[k.params.name,k.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=k}},908200:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageDesktop_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="9b6d0fabe3eb4d1aea5102ede0ed6b13";let i=n},446473:function(e,a,l){l.d(a,{A:()=>n});let n="socialPinLanding"},550946:function(e,a,l){l.d(a,{Z:()=>r});var n=l(27399),i=l(236269),t=l(271875);function r(){let{conversationCreate:e}=(0,t.Z)();return async a=>{let l,t=n.Z.create("ConversationsResource",a);try{let a=(await t.callCreate()).resource_response.data;a&&(e(a),l=a)}catch(e){throw Error((0,i.Z)(e,"message"))}return l}}},20717:function(e,a,l){l.d(a,{$p:()=>F,_l:()=>K,cO:()=>S,t2:()=>L,w2:()=>f,xM:()=>v});var n=l(667294),i=l(616550),t=l(173874),r=l(613567),s=l(774838),u=l(661376),d=l(575820),o=l(739405),c=l(462867),g=l(785893);let p="UnauthDesktopSocialPinLandingPageContext",m="UnauthMobileSocialPinLandingPageContext",y="AthDesktopSocialPinLandingPageContext",_="AuthMobileSocialPinLandingPageContext",k=(0,n.createContext)(),P=({children:e})=>{let[a,l]=(0,n.useState)(!1),[i,t]=(0,n.useState)(!1),r=(0,n.useMemo)(()=>({hasSeenAuthMobileLandingToast:a,setHasSeenAuthMobileLandingToast:l,hasSeenAuthDesktopLandingToast:i,setHasSeenAuthDesktopLandingToast:t}),[a,l,i,t]);return(0,g.jsx)(k.Provider,{value:r,children:e})},h=(0,n.createContext)({key:"",data:null}),v=({children:e})=>{let a=(0,i.TH)(),{isSocialBot:l,isBot:k}=(0,s.B)(),v=(0,c.Z)(),S=v&&v.isAuth,F=(0,o.HG)(),K=(0,t.fY)(a)&&(0,d.mB)(a.search).invite_code||"",L=(0,i.LX)(a.pathname,{path:"/pin/:id"}),f=String(L&&"id"in L.params&&L.params.id)||"",[x,T]=(0,n.useState)({key:"",data:null}),A=!S&&F,C=!S&&!F,{checkExperiment:b}=(0,r.F)(),{anyEnabled:D,group:w}=!k&&!l&&A&&K&&b("sg_dweb_unauth_social_pin_landing_page")||{},{anyEnabled:I,group:E}=!k&&!l&&C&&K&&b("sg_mweb_unauth_social_pin_landing_page")||{},R="enabled_popover_profile"===w,Z=(0,u.Z)(K?{name:"InviteCodeMetadataResource",options:{invite_code:K,field_set_key:R?"default_with_sender_recent_pins":"default"}}:null),j=Z.isLoaded?Z.data:null;return(0,n.useEffect)(()=>{if(j){let e=j.sender??null,a=S&&e.id!==v.id&&e?.should_show_messaging&&v.should_show_messaging;if(A&&e){let a=null;a=D?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,expGroup:w,inviterRecentPins:"enabled_popover_profile"===w&&e.recent_pin_images?.["222x"]||[],inviterUsername:"enabled_popover_profile"===w&&e.username||""}:[5,9,12,16].includes(j.invite_channel)?null:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name},T({key:p,data:{inviter:e,popoverData:a}})}else C&&e?I&&T({key:m,data:{upsellData:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,expGroup:E}}}):a&&!F?T({key:_,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:v.id||""},pin:{pinId:f}}}}):a&&F&&T({key:y,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:v.id||""},pin:{pinId:f}}}})}else T({key:"",data:null})},[j,S,F,f,v,D,I,E,C,w,A]),(0,g.jsx)(P,{children:(0,g.jsx)(h.Provider,{value:x,children:e})})},S=()=>{let e=(0,n.useContext)(h);return e.key===p?e:null},F=()=>{let e=(0,n.useContext)(h);return e.key===m?e:null},K=()=>{let e=(0,n.useContext)(h);return e.key===_?e:null},L=()=>{let e=(0,n.useContext)(h);return e.key===y?e:null},f=()=>(0,n.useContext)(k)},992071:function(e,a,l){l.d(a,{Z:()=>h});var n=l(616550),i=l(883119),t=l(230201),r=l(236269),s=l(583875),u=l(924591),d=l(138596),o=l(216975),c=l(577356),g=l(739405),p=l(462867),m=l(446473),y=l(550946),_=l(271875),k=l(20717),P=l(785893);function h({hideToast:e,pinAttachment:a}){let l=(0,d.ZP)(),h=(0,n.k6)(),{logContextEvent:v}=(0,t.v)(),{showToast:S}=(0,c.F9)(),F=(0,y.Z)(),K=(0,p.Z)(),{conversationOpen:L,dropdownOpen:f,setObjectAttachment:x}=(0,_.Z)(),T=(0,g.HG)(),A=(0,k.t2)(),C=(0,k._l)(),b=T?A?.data:C?.data,D=b&&"toastData"in b?b.toastData:null,w=T?14344:14343;if(D){let{inviter:n,viewer:t}=D,d=(0,P.jsx)(i.xv,{inline:!0,weight:"bold",children:n.inviterName}),c=(0,P.jsx)(i.xv,{children:(0,o.nk)(l.bt("Suka Pin ini? Beri tahu {{ inviterName }}.", "Like this Pin? Let {{ inviterName }} know.", "SocialPinLandingPage.AuthSocialPinLandingPage.toastText", undefined, true),{inviterName:d})}),g=({conversationId:e,pinAttachment:a})=>{T?(f(),L(e)):h.push(`/conversation/${e}`),x(a)},p=async()=>{v({event_type:T?101:102,view_type:3,view_parameter:156,component:w});try{let e=await F({user_ids:[n.inviterId,t.viewerId]});if(e){let l=e.id;g({conversationId:l,pinAttachment:{...a,source:m.A}})}}catch(e){S(({hideToast:a})=>(0,P.jsx)(u.Z,{onHide:a,text:(0,r.Z)(e,"message")??""}))}};return v({event_type:13,view_type:3,view_parameter:156,component:w}),(0,P.jsx)(i.kC,{justifyContent:"center",children:(0,P.jsx)(i.iP,{onTap:()=>{p(),e()},children:(0,P.jsx)(u.Z,{duration:7e3,onHide:e,primaryAction:{accessibilityLabel:l.bt("Balas", "Reply", "SocialPinLandingPage.AuthToast.replyButtonAccessibilityLabel", undefined, true),label:l.bt("Balas", "Reply", "SocialPinLandingPage.AuthToast.replyButton", undefined, true),size:"lg",onClick:()=>{}},text:c,thumbnail:{avatar:(0,P.jsx)(s.qE,{color:K.isAuth?K.avatar_color_index:void 0,name:n.inviterName,src:n.inviterAvatarUrl})}})})})}}},793026:function(e,a,l){l.d(a,{Z:()=>I});var n,i,t=l(667294),r=l(167912),s=l(616550),u=l(883119),d=l(967705),o=l(399312),c=l(286074),g=l(59355),p=l(907022),m=l(400962),y=l(566431),_=l(825605),k=l(577356),P=l(575647),h=l(462867),v=l(68876),S=l(60707),F=l(2061),K=l(250704),L=l(20717),f=l(992071),x=l(228612),T=l(785893);let A=void 0!==n?n:n=l(324510),C=void 0!==i?i:i=l(908200);function b({isEligibleForPdp:e,pinId:a,ratingValue:l,pinKey:n}){let i=(0,m.aX)(),r=(0,s.k6)(),_=(0,s.TH)(),v=(0,h.Z)(),{trafficSource:F}=(0,o.Z)(i,v.isAuth),x=(0,p.Z)(C,n),A=x?.gridTitle||x?.gridDescription||x?.richMetadata?.title||x?.richSummary?.displayName||x?.richMetadata?.article?.name,{showToast:b}=(0,k.F9)(),D=(0,L.t2)(),w=(0,L.w2)();(0,t.useEffect)(()=>{document.title=A?.trim()||x?.seoTitle?.trim()||y.yp},[A,x?.seoTitle]),(0,t.useEffect)(()=>{if(!w||w.hasSeenAuthDesktopLandingToast)return()=>{};let{setHasSeenAuthDesktopLandingToast:e}=w,l=setTimeout(()=>{if(D){let l={type:"pin",id:a};e(!0),b(({hideToast:e})=>(0,T.jsx)(f.Z,{hideToast:e,pinAttachment:l}))}},3e3);return()=>{clearTimeout(l)}},[D,a,b,w]);let I=(0,P.Z)(x);return((0,g.Q)({view_type:3,object_id_str:a,view_data:{pin_id:a},component:13283,aux_data:{current_page_url:_.pathname+_.search,closeup_navigation_type:(0,S.Z)(r,F),...I(),...l?{rating_value:l}:{},is_go_linkless:!!x?.isGoLinkless},clientTrackingParams:(0,K.Z)((_?.state||{}).trackingParams,x?.trackingParams)},a),e)?(0,T.jsx)(u.xu,{"data-test-id":"pdp-container",children:(0,T.jsx)(c.Z,{})}):(0,T.jsx)(u.xu,{"data-test-id":"closeup-container",children:(0,T.jsx)(d.ZP,{})})}function D({pinId:e}){let a=function({pinId:e}){return{query:A,variables:{pinId:e}}}({pinId:e}),l=(0,r.useLazyLoadQuery)(A,a.variables),n=l.v3GetPinQuery?.data;return(0,T.jsx)(b,{isEligibleForPdp:n?.isEligibleForPdp??!1,pinId:e,pinKey:n,ratingValue:n?.richSummary?.aggregateRating?.ratingValue})}function w({pinId:e}){let a=(0,x.S6)(),l=e?a(e):null;return(0,T.jsx)(b,{isEligibleForPdp:l?.is_eligible_for_pdp??!1,pinId:e,pinKey:null!=l?{type:"deprecated",data:l}:null,ratingValue:l?.rich_summary?.aggregate_rating?.rating_value})}function I(){let{id:e}=(0,s.UO)(),{isGraphQLEnabledInGeneral:a}=(0,F.nF)();return(0,T.jsx)(v.Z,{type:"authDesktop",children:a?(0,T.jsx)(_.Z,{children:(0,T.jsx)(D,{pinId:e||""})}):(0,T.jsx)(w,{pinId:e||""})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/31188.id_ID-ba8dda84535064a9.mjs.map